<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>Blog - Posts</title>
		<link th:href="@{/css/bootstrap.css}" rel="stylesheet" type="text/css">
	</head>
	<body>
		<!-- Cabeçalho -->
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<a class="navbar-brand" href="#">Blog</a>
			<button class="navbar-toggler" type="button"
				data-toggle="collapse"
				data-target="#navbarSupportedContent"
				aria-controls="navbarSupportedContent"
				aria-expanded="false"
				aria-label="Alternar Navegação">
				<span class="navbar-toggler-icon"></span>
			</button>
	
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item active">
						<a class="nav-link" th:href="@{/}">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" th:href="@{/sobre}">Sobre</a>
					</li>
				</ul>
			</div>
		</nav>
		<!-- Fim do Cabeçalho -->

		<!-- Conteúdo -->
		<div class="container mt-4">
			<h1>Cadastro de Post</h1>
			<div class="row">
				<div class="col-12">
					<div class="card">
						<div class="card-body">
							<form th:action="@{/posts/save}" th:object="${post}" method="POST" class="needs-validation" novalidate>
							<div class="form-group row">
								<div class="alert alert-danger" th:if="${#fields.hasAnyErrors()}" role="alert">
									<div th:each="detailedError : ${#fields.detailedErrors()}">
										<strong class="mr-3">&times;</strong><span
											th:text="${detailedError.message}"></span>
									</div>
								</div>
							</div>
							<div class="row">
									<div class="form-group col-2">
										<label for="id">ID:</label>
										<input type="text" th:field="*{id}" name="autor" class="form-control" readonly>
									</div>
									<div class="form-group col-7">
										<label for="autor">
											<span class="text-danger">*</span> Autor:
										</label>
										<input type="text" th:field="*{autor}" name="autor" class="form-control" maxlength="100"
											th:classappend="${#fields.hasErrors('autor')}? 'has-error'">
									</div>
									<div class="form-group col-3">
										<label for="data-publicacao">Data de Publicação:</label>
										<input type="date" th:field="*{dataPublicacao}" name="data-publicacao" 
											class="form-control" th:classappend="${#fields.hasErrors('dataPublicacao')}? 'has-error'">
									</div>
								</div>
								<div class="row">
									<div class="form-group col-12">
										<label for="titulo">
											<span class="text-danger">*</span> Título:
										</label>
										<input type="text" th:field="*{titulo}" name="titulo" class="form-control" maxlength="150"
											th:classappend="${#fields.hasErrors('titulo')}? 'has-error'">
									</div>
								</div>
								<div class="row">
									<div class="col-12">
										<label for="texto">
											<span class="text-danger">*</span> Texto:
										</label>
										<textarea name="texto" th:field="*{texto}" rows="3" cols="15" 
											class="form-control" th:classappend="${#fields.hasErrors('texto')}? 'has-error'">
										</textarea>
									</div>
								</div>
								<hr>
								<div class="nav justify-content-center">
									<div class="p-1 nav-item">
										<button type="submit" class="btn btn-primary">Salvar</button>
									</div>
									<div class="p-1 nav-item">
										<a th:href="@{/posts}" class="btn btn-outline-danger" tabindex="-1">Cancelar</a>
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Fim do Conteúdo -->
		
		<script th:src="@{/js/jquery-3.4.1.min.js}"></script>
		<script th:src="@{/js/bootstrap.min.js}"></script>
	</body>
</html>